<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‹çˆ±äººæ ¼æµ‹è¯• - æ¢ç´¢ä½ çš„çˆ±æƒ…æ¨¡å¼</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Serif SC', 'Microsoft YaHei', serif;
            background: linear-gradient(135deg, #FFF0F5 0%, #F5F5FF 100%);
            background-image: radial-gradient(at 0% 0%, rgba(255, 192, 203, 0.1) 0, transparent 50%), radial-gradient(at 100% 0%, rgba(138, 43, 226, 0.1) 0, transparent 50%),radial-gradient(at 50% 100%, rgba(255, 160, 122, 0.1) 0, transparent 50%);
            color: #5A3E65;
            line-height: 1.7;
            letter-spacing: 0.01em;
            scroll-behavior: smooth; /* æ·»åŠ å¹³æ»‘æ»šåŠ¨ */
        }

        .container {
            max-width: 860px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            box-sizing: border-box;
        }

        /* ç­”é¢˜é¡µé¢å®¹å™¨ */
        .quiz-container {
            background: white;
            border-radius: 24px;
            padding: 20px 20px 40px;
            box-shadow: 0 12px 48px rgba(138, 43, 226, 0.1);
            opacity: 0;
            transform: translateY(10px);
            animation: fadeIn 0.8s ease forwards;
            margin-top: 220px; /* å¢åŠ margin-topï¼Œç¡®ä¿å®Œå…¨é¿å¼€å›ºå®šå¤´éƒ¨ */
            width: 100%; /* ç¡®ä¿ä¸å¤´éƒ¨å®½åº¦ä¸€è‡´ */
            box-sizing: border-box; /* ç¡®ä¿paddingä¸å½±å“å®½åº¦ */
            position: relative;
            z-index: 1; /* ç¡®ä¿å†…å®¹å®¹å™¨åœ¨å¤´éƒ¨ä¸‹æ–¹ */
        }

        /* ç»“æœé¡µé¢å’Œç­”æ¡ˆé¡µé¢å®¹å™¨ */
        .result-container, .answer-container {
            background: white;
            border-radius: 24px;
            padding: 20px 20px 40px;
            box-shadow: 0 12px 48px rgba(138, 43, 226, 0.1);
            opacity: 0;
            transform: translateY(10px);
            animation: fadeIn 0.8s ease forwards;
            margin-top: 20px; /* è°ƒæ•´ä¸ºæ­£å¸¸çš„margin-top */
            width: 100%; /* ç¡®ä¿ä¸å¤´éƒ¨å®½åº¦ä¸€è‡´ */
            box-sizing: border-box; /* ç¡®ä¿paddingä¸å½±å“å®½åº¦ */
            position: relative;
            z-index: 1; /* ç¡®ä¿å†…å®¹å®¹å™¨åœ¨å¤´éƒ¨ä¸‹æ–¹ */
        }

        .quiz-header-fixed {
            background: white; /* è¦†ç›–æ»šåŠ¨æ—¶çš„èƒŒæ™¯ */
            z-index: 1050; /* è¿›ä¸€æ­¥æé«˜z-indexï¼Œç¡®ä¿åœ¨æœ€ä¸Šå±‚ */
            padding: 20px 20px;
            box-shadow: 0 8px 24px rgba(138, 43, 226, 0.12);
            border-radius: 24px 24px;
            position: fixed; /* å›ºå®šåœ¨è§†å£é¡¶éƒ¨ */
            top: 0; /* å®Œå…¨è´´åˆé¡¶éƒ¨ */
            left: 0;
            right: 0;
            max-width: 850px; /* ä¿æŒä¸containerä¸€è‡´çš„max-width */
            margin: 0 auto; /* å±…ä¸­å¯¹é½ */
            box-sizing: border-box; /* ç¡®ä¿paddingä¸å½±å“å®½åº¦è®¡ç®— */
        }


        @keyframes fadeIn {
            to { opacity: 1; transform: translateY(0); }
        }

        /* å¤´éƒ¨æ ·å¼ */
        .header {
            margin-bottom: 8px;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .header h1 {
            font-size: 24px;
            font-weight: 600;
            letter-spacing: -0.5px;
            margin-bottom: 2px;
            background: linear-gradient(135deg, #FF69B4 0%, #8A2BE2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        .header p {
            font-size: 13px;
            color: #8B5CF6;
            font-weight: 400;
        }

        .header-badges {
            display: flex;
            gap: 8px;
        }

        .badge {
            padding: 4px 10px;
            border-radius: 50px;
            font-size: 10px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 3px;
        }

        .badge-blue { background: #F3E8FF; color: #8B5CF6; border: 1px solid #E9D5FF; }
        .badge-green { background: #ECFDF5; color: #10B981; border: 1px solid #D1FAE5; }

        .disclaimer {
            background: #FDF2F8;
            padding: 8px 12px;
            border-radius: 12px;
            font-size: 11px;
            color: #EC4899;
            margin-bottom: 8px;
            border-left: 3px solid #EC4899;
        }

        .disclaimer i {
            color: #EC4899;
            margin-right: 3px;
            font-style: normal;
        }

        /* è¿›åº¦æ¡åŒºåŸŸ */
        .progress-section {
            background: #F8FAFC;
            z-index: 9;
            padding: 8px 20px 12px; /* è¿›ä¸€æ­¥å‡å°ä¸Šä¸‹padding */
            margin-bottom: 0; /* ç§»é™¤åŸæ¥çš„margin-bottom */
            border-radius: 16px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px; /* å‡å°é—´è· */
        }

        .progress-stats {
            font-size: 14px; /* è°ƒæ•´å­—ä½“å¤§å° */
            color: #8B5CF6;
            font-weight: 600;
        }

        .hint-tag {
            background: linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%);
            color: white;
            padding: 4px 12px; /* å‡å°padding */
            border-radius: 50px;
            font-size: 11px; /* å‡å°å­—ä½“ */
            border: 1px solid #8B5CF6;
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3);
        }

        .progress-bar {
            height: 8px; /* å‡å°è¿›åº¦æ¡é«˜åº¦ */
            background: #E2E8F0;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #8B5CF6 0%, #EC4899 100%);
            width: 0%;
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 8px rgba(139, 92, 246, 0.4);
        }

        /* é¢˜ç›®æ ·å¼ */
        .question-item {
            padding: 15px 0; /* å‡å°å‚ç›´æ–¹å‘çš„å†…è¾¹è· */
            margin-bottom: 15px; /* å‡å°é¢˜ç›®ä¹‹é—´çš„é—´è· */
            border-bottom: 1px dashed #E9D5FF; /* åº•éƒ¨è™šçº¿åˆ†éš” */
            transition: all 0.3s ease; /* è¿‡æ¸¡åŠ¨ç”» */
            scroll-margin-top: 15px; /* æ»šåŠ¨åˆ°é¡¶éƒ¨æ—¶çš„ç•™ç™½ */
            position: relative; /* ç”¨äºz-index */
        }

        .question-item:hover,
        .question-item.active {
            background: #F3E8FF;
            border-radius: 16px; /* æ´»è·ƒé¢˜ç›®æ·»åŠ åœ†è§’ */
            padding: 15px 15px; /* å‡å°æ´»è·ƒé¢˜ç›®å·¦å³padding */
            margin: 5px -15px 15px; /* è°ƒæ•´marginä»¥å®ç°â€œææ‹‰â€æ•ˆæœï¼Œå¹¶ä¸ä¸‹ä¸€é¢˜ä¿æŒé—´è· */
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.15), 0 0 0 1px rgba(139, 92, 246, 0.2);
            transform: scale(1.005) translateY(-2px); /* è½»å¾®æ”¾å¤§å’Œä¸Šæµ® */
            border: 1px solid #D8B4FE;
            z-index: 2; /* é™ä½z-indexï¼Œç¡®ä¿åœ¨å›ºå®šå¤´éƒ¨ä¸‹æ–¹ */
        }

        .question-item:last-child {
            border-bottom: none;
        }
        /* é¿å…æ´»è·ƒé¢˜ç›®ä¸Šæµ®åä¸ä¸‹ä¸€é¢˜é‡å ï¼Œå¹¶è°ƒæ•´é—´è· */
        .question-item.active + .question-item {
            margin-top: 15px; /* å‡å°é—´è· */
        }

        .question-title-row {
            display: flex;
            gap: 10px; /* å‡å°é—´è· */
            margin-bottom: 15px; /* å‡å°é—´è· */
            align-items: flex-start;
        }

        .question-index {
            flex-shrink: 0;
            font-size: 16px; /* å‡å°å­—ä½“å¤§å° */
            font-weight: 800;
            color: #8B5CF6;
            font-family: 'Georgia', serif;
            line-height: 1.2;
        }

        .question-text {
            font-size: 16px;
            font-weight: 500;
            color: #5A3E65;
            line-height: 1.5;
            flex-grow: 1;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Serif SC', serif;
        }

        .options-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 8px; /* å‡å°é€‰é¡¹ä¹‹é—´çš„é—´è· */
            padding-left: 35px; /* å‡å°å·¦ä¾§padding */
        }

        .option-capsule {
            padding: 10px 18px; /* å‡å°é€‰é¡¹æŒ‰é’®padding */
            background: white;
            border: 2px solid #E9D5FF;
            border-radius: 50px;
            cursor: pointer;
            font-size: 13px;
            color: #6D28D9;
            font-weight: 400;
            transition: all 0.3s ease;
            user-select: none;
            flex-grow: 1;
            text-align: center;
            min-width: 100px;
            position: relative;
            overflow: hidden;
        }

        .option-capsule:hover {
            background: #F3E8FF;
            border-color: #8B5CF6;
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.2);
            transform: translateY(-1px);
        }

        .option-capsule.selected {
            background: linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%);
            border-color: transparent;
            color: white;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
            transform: translateY(-1px);
        }

        .option-capsule.selected:hover {
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4);
            transform: translateY(-2px);
        }

        .option-capsule input {
            display: none;
        }

        .questions-scroll-wrapper {
            /* ç§»é™¤æœ€å¤§é«˜åº¦é™åˆ¶ï¼Œè®©å†…å®¹æ­£å¸¸æ»šåŠ¨ */
            padding: 0; /* ç§»é™¤paddingï¼Œç”±quiz-containeræ§åˆ¶ */
            overflow-y: visible; /* å…è®¸æ­£å¸¸æº¢å‡º */
        }

        /* æäº¤æŒ‰é’® */
        .submit-wrapper {
            background: white;
            z-index: 10;
            padding: 20px 40px; /* è°ƒæ•´paddingï¼Œè®©æŒ‰é’®åŒºåŸŸæ›´å¤§ä¸€äº› */
            box-shadow: 0 8px 24px rgba(138, 43, 226, 0.12);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px; /* ä¸¤ä¸ªæŒ‰é’®ä¹‹é—´çš„é—´è· */
            /* ç§»é™¤å›ºå®šå®šä½ï¼Œå›åˆ°æ­£å¸¸æ–‡æ¡£æµ */
            border-radius: 20px;
        }

        .submit-btn {
            padding: 14px 28px; /* ä¼˜åŒ–æŒ‰é’®padding */
            border: none;
            border-radius: 50px;
            font-size: 15px; /* ä¼˜åŒ–æŒ‰é’®å­—ä½“å¤§å° */
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); /* ä¼˜åŒ–è¿‡æ¸¡æ•ˆæœ */
            display: flex;
            align-items: center;
            gap: 8px; /* ä¼˜åŒ–å›¾æ ‡ä¸æ–‡å­—é—´è· */
            min-width: 170px; /* ä¼˜åŒ–æœ€å°å®½åº¦ */
            justify-content: center;
            position: relative;
            overflow: hidden;
            letter-spacing: -0.3px; /* ä¼˜åŒ–å­—é—´è· */
        }

        /* ä¸»æŒ‰é’®æ ·å¼ */
        .submit-btn:not(.btn-back-to-top):not(.btn-secondary) {
            background: linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%);
            color: white;
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.3);
        }
        
        .submit-btn:not(.btn-back-to-top):not(.btn-secondary):hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(139, 92, 246, 0.4);
        }

        /* å›åˆ°é¡¶éƒ¨æŒ‰é’®æ ·å¼ */
        .btn-back-to-top {
            background: white;
            color: #8B5CF6;
            border: 2px solid #E9D5FF;
            box-shadow: 0 2px 10px rgba(139, 92, 246, 0.1);
        }
        
        .btn-back-to-top:hover {
            background: #F3E8FF;
            border-color: #8B5CF6;
            color: #8B5CF6;
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.2);
            transform: translateY(-2px);
        }

        /* æ¬¡è¦æŒ‰é’®æ ·å¼ */
        .btn-secondary {
            background: white;
            color: #8B5CF6;
            border: 2px solid #E9D5FF;
            box-shadow: 0 2px 10px rgba(139, 92, 246, 0.1);
        }
        
        .btn-secondary:hover {
            background: #F3E8FF;
            border-color: #8B5CF6;
            color: #8B5CF6;
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.2);
            transform: translateY(-2px);
        }

        /* æŒ‰é’®å›¾æ ‡æ ·å¼ */
        .btn-icon {
            font-size: 18px; /* ä¼˜åŒ–å›¾æ ‡å¤§å° */
            line-height: 1;
        }

        /* æŒ‰é’®è£…é¥°æ•ˆæœ */
        .btn-decoration {
            font-size: 18px; /* ä¼˜åŒ–è£…é¥°å›¾æ ‡å¤§å° */
            animation: sparkle 2s ease-in-out infinite;
        }

        @keyframes sparkle {
            0%, 100% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: scale(1.3) rotate(10deg);
                opacity: 0.8;
            }
        }

        /* Loadingé¡µé¢æ ·å¼ */
        .loading-container {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 400px; /* Limit max width for a modal-like appearance */
            background: white;
            border-radius: 24px;
            padding: 40px;
            box-shadow: 0 12px 48px rgba(138, 43, 226, 0.15);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            text-align: center;
        }
        .loading-container.show { display: flex; }
        .loader {
            width: 60px;
            height: 60px;
            border: 4px solid #F3E8FF;
            border-top-color: #8B5CF6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
        }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* ç»“æœé¡µé¢å¸ƒå±€ */
        .score-display { text-align: center; margin-bottom: 20px; }
        
        /* ç»“æœä¸»å†…å®¹åŒº - å·¦å³å¸ƒå±€ */
        .results-main-content {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            gap: 20px; /* å‡å°é—´è· */
            margin-bottom: 30px; /* å‡å°åº•éƒ¨é—´è· */
            flex-wrap: wrap;
        }
        
        .score-circle-wrapper {
            flex: 0 0 auto;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .score-circle-box {
            position: relative;
            width: 130px; /* è¿›ä¸€æ­¥ç¼©å°å°ºå¯¸ */
            height: 130px; /* è¿›ä¸€æ­¥ç¼©å°å°ºå¯¸ */
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%);
            border-radius: 50%;
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.3);
        }
        
        .score-value { 
            font-size: 42px; /* è¿›ä¸€æ­¥ç¼©å°å­—ä½“ */
            font-weight: 800; 
            color: white; 
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .score-level { 
            font-size: 22px; 
            font-weight: 600; 
            background: linear-gradient(135deg, #FF69B4 0%, #8B5CF6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px; 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .score-desc { 
            font-size: 15px; 
            color: #8B5CF6; 
            line-height: 1.6; 
            max-width: 500px;
            margin: 0 auto;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .chart-container { 
            margin: 0; 
            height: 250px; /* è¿›ä¸€æ­¥ç¼©å°é«˜åº¦ */
            width: 300px; /* è¿›ä¸€æ­¥ç¼©å°å®½åº¦ */
            max-width: 300px; /* è¿›ä¸€æ­¥ç¼©å°æœ€å¤§å®½åº¦ */
            display: flex; 
            justify-content: center; 
            align-items: center; 
            flex: 0 0 auto;
        }
        .section-title { 
            font-size: 18px; 
            font-weight: 600; 
            margin-bottom: 15px; 
            padding: 8px 12px; 
            background: linear-gradient(135deg, #FF69B4 0%, #8B5CF6 100%); 
            color: white; 
            border-radius: 10px; 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        .analysis-content { 
            font-size: 15px; 
            line-height: 1.7; 
            color: #5A3E65; 
            padding: 12px; 
            background: white; 
            border-radius: 10px; 
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.03); 
            margin-bottom: 20px; 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        .suggestion-list { list-style: none; padding: 0; }
        .suggestion-list li { 
            padding: 12px; /* å‡å°å†…è¾¹è· */
            margin-bottom: 12px; /* å‡å°é—´è· */
            background: #F8FAFC;
            border-radius: 10px; /* ç¼©å°åœ†è§’ */
            font-size: 13px; /* ç¼©å°å­—ä½“ */
            color: #5A3E65; 
            border: 1px solid #E9D5FF;
            border-left: 4px solid #8B5CF6; 
            transition: all 0.3s ease; /* è¿‡æ¸¡åŠ¨ç”» */
        }
        
        .suggestion-list li:hover {
            transform: translateY(-2px); /* è½»å¾®ä¸Šæµ® */
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.15); 
            border-color: #8B5CF6; 
        }

        /* ä¸¥é‡ç¨‹åº¦æŒ‡ç¤ºå™¨ */
        .severity-indicator {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .severity-level {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            opacity: 0.5;
            transition: all 0.3s ease;
        }
        
        .severity-level.active {
            opacity: 1;
            transform: scale(1.08);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.25);
        }
        
        .severity-1 { background: #d1fae5; color: #065f46; }
        .severity-2 { background: #ddd6fe; color: #5b21b6; }
        .severity-3 { background: #fef9c3; color: #854d0e; }
        .severity-4 { background: #fed7aa; color: #9a3412; }
        .severity-5 { background: #fecaca; color: #991b1b; }

        /* ç­”æ¡ˆæŸ¥çœ‹é¡¹ */
        .answer-item {
            padding: 12px 0; /* å‡å°å†…è¾¹è· */
            margin-bottom: 12px; /* å‡å°é—´è· */
            border-bottom: 1px dashed #E9D5FF;
            transition: all 0.3s ease;
        }
        
        .answer-item:last-child {
            border-bottom: none; 
        }
        
        .answer-q {
            font-size: 14px; /* ç¼©å°å­—ä½“ */
            font-weight: 600;
            color: #5A3E65;
            line-height: 1.4;
            margin-bottom: 8px; /* å‡å°é—´è· */
        }
        
        .answer-v {
            color: #8B5CF6;
            font-size: 13px;
            font-weight: 600;
            margin-right: 8px; /* å‡å°é—´è· */
        }

        /* å¹³æ¿è®¾å¤‡ */
        @media (max-width: 768px) {
            .container {
                padding: 0 15px; /* è°ƒæ•´å®¹å™¨å†…è¾¹è· */
            }
            
            .quiz-header-fixed {
                max-width: 100%; /* é€‚åº”å…¨å±å®½åº¦ */
            }
            
            .quiz-container {
                margin-top: 220px; /* å¢åŠ é¡¶éƒ¨è¾¹è·ï¼Œç¡®ä¿å†…å®¹ä¸è¢«é®æŒ¡ */
            }
        }
        
        /* ç§»åŠ¨ç«¯ */
        @media (max-width: 640px) {
            /* å›ºå®šå¤´éƒ¨ä¼˜åŒ– */
            .quiz-header-fixed {
                padding: 15px 15px; /* å‡å°å†…è¾¹è· */
                max-width: 100%; /* é€‚åº”å…¨å±å®½åº¦ */
                border-radius: 20px 20px; /* ä¿æŒå››ä¸ªè§’åœ†è§’ */
            }
            
            .header h1 {
                font-size: 20px; /* å‡å°æ ‡é¢˜å­—ä½“ */
            }
            
            .header-badges {
                flex-direction: column; /* å¾½ç« å‚ç›´æ’åˆ— */
                gap: 5px; /* å‡å°é—´è· */
            }
            
            .badge {
                font-size: 9px; /* å‡å°å¾½ç« å­—ä½“ */
                padding: 3px 8px; /* å‡å°å¾½ç« å†…è¾¹è· */
            }
            
            .progress-section {
                padding: 8px 15px; /* å‡å°è¿›åº¦æ¡åŒºåŸŸå†…è¾¹è· */
            }
            
            /* ç­”é¢˜é¡µé¢ä¼˜åŒ– */
            .quiz-container {
                margin-top: 220px; /* å¢å¤§é¡¶éƒ¨è¾¹è·ï¼Œç¡®ä¿å†…å®¹ä¸è¢«é®æŒ¡ */
                padding: 15px 15px 30px; /* å‡å°å†…è¾¹è· */
            }
            
            .question-item {
                margin: 5px -10px 12px; /* è°ƒæ•´marginï¼Œé€‚åº”ç§»åŠ¨ç«¯ */
                padding: 12px 12px; /* è°ƒæ•´å†…è¾¹è· */
                scroll-margin-top: 200px; /* å¢å¤§æ»šåŠ¨ç•™ç™½ï¼Œç¡®ä¿æ»šåŠ¨æ—¶ä¸è¢«å¤´éƒ¨é®æŒ¡ */
            }
            
            .question-title-row {
                gap: 8px; /* å‡å°é—´è· */
            }
            
            .question-index {
                font-size: 14px; /* å‡å°é¢˜å·å­—ä½“ */
            }
            
            .question-text {
                font-size: 15px; /* å‡å°é¢˜ç›®å­—ä½“ */
            }
            
            .options-grid {
                padding-left: 0; /* ç§»é™¤å·¦ä¾§padding */
                gap: 8px; /* ç»Ÿä¸€é€‰é¡¹é—´è· */
                display: flex;
                flex-direction: column; /* å‚ç›´æ’åˆ— */
            }
            
            .option-capsule {
                padding: 10px 15px; /* ç»Ÿä¸€é€‰é¡¹å†…è¾¹è· */
                font-size: 13px; /* ç»Ÿä¸€é€‰é¡¹å­—ä½“ */
                min-width: auto; /* ç§»é™¤æœ€å°å®½åº¦é™åˆ¶ */
                width: 100%; /* æ‰€æœ‰æŒ‰é’®å®½åº¦ä¸€è‡´ */
                max-width: none; /* ç§»é™¤æœ€å¤§å®½åº¦é™åˆ¶ */
                flex: 1;
            }
            
            /* ç»“æœé¡µé¢ä¼˜åŒ– */
            .results-main-content {
                flex-direction: column; /* ç§»åŠ¨ç«¯æ”¹ä¸ºä¸Šä¸‹å¸ƒå±€ */
                gap: 20px; /* å‡å°é—´è· */
            }
            
            .chart-container {
                width: 100%; /* é€‚åº”ç§»åŠ¨ç«¯å®½åº¦ */
                max-width: 100%; /* é€‚åº”ç§»åŠ¨ç«¯å®½åº¦ */
                height: 320px; /* å¢å¤§é›·è¾¾å›¾é«˜åº¦ */
                display: flex;
                justify-content: center;
                align-items: center;
            }
            
            .score-circle-box {
                width: 140px; /* å¢å¤§åˆ†æ•°åœ†å½¢å¤§å° */
                height: 140px; /* å¢å¤§åˆ†æ•°åœ†å½¢å¤§å° */
                margin: 0 auto; /* ç¡®ä¿æ°´å¹³å±…ä¸­ */
            }
            
            .score-value {
                font-size: 40px; /* å¢å¤§åˆ†æ•°å­—ä½“å¤§å° */
            }
            
            .score-level {
                font-size: 20px; /* è°ƒæ•´ç­‰çº§å­—ä½“å¤§å° */
            }
            
            /* ç­”æ¡ˆé¡µé¢ä¼˜åŒ– */
            .answer-container {
                margin-top: 15px; /* å‡å°é¡¶éƒ¨è¾¹è· */
                padding: 15px 15px 30px; /* å‡å°å†…è¾¹è· */
            }
            
            .answer-item {
                padding: 10px 0; /* å‡å°å†…è¾¹è· */
            }
            
            .answer-q {
                font-size: 13px; /* å‡å°é¢˜ç›®å­—ä½“å¤§å° */
            }
            
            .answer-v {
                font-size: 12px; /* å‡å°ç­”æ¡ˆå­—ä½“å¤§å° */
            }
            
            /* æŒ‰é’®ä¼˜åŒ– */
            .submit-btn {
                padding: 12px 16px; /* è°ƒæ•´å†…è¾¹è·ï¼Œå‡å°æŒ‰é’®å¤§å° */
                font-size: 13px; /* è°ƒæ•´å­—ä½“å¤§å° */
                min-width: auto; /* ç§»é™¤å…¨å±å®½åº¦é™åˆ¶ */
                width: calc(50% - 5px); /* æŒ‰é’®å®½åº¦å¹³åˆ†ï¼Œå‡å»é—´è· */
                gap: 5px; /* å‡å°å›¾æ ‡ä¸æ–‡å­—é—´è· */
            }
            
            .submit-wrapper {
                padding: 15px 20px; /* è°ƒæ•´å†…è¾¹è· */
                gap: 10px; /* æŒ‰é’®é—´è· */
                flex-direction: row; /* æŒ‰é’®æ°´å¹³æ’åˆ— */
                justify-content: center;
                align-items: center;
            }
        }
        
        /* å°å±æ‰‹æœº */
        @media (max-width: 480px) {
            .header h1 {
                font-size: 18px; /* è¿›ä¸€æ­¥å‡å°æ ‡é¢˜å­—ä½“ */
            }
            
            .score-circle-box {
                width: 130px; /* é€‚åº”å°å±çš„åˆ†æ•°åœ†å½¢å¤§å° */
                height: 130px; /* é€‚åº”å°å±çš„åˆ†æ•°åœ†å½¢å¤§å° */
            }
            
            .score-value {
                font-size: 38px; /* é€‚åº”å°å±çš„åˆ†æ•°å­—ä½“å¤§å° */
            }
            
            .chart-container {
                height: 300px; /* é€‚åº”å°å±çš„é›·è¾¾å›¾é«˜åº¦ */
            }
            
            /* å°å±æ‰‹æœºæŒ‰é’®ä¼˜åŒ– */
            .submit-btn {
                padding: 10px 12px; /* è¿›ä¸€æ­¥å‡å°å†…è¾¹è· */
                font-size: 12px; /* è¿›ä¸€æ­¥å‡å°å­—ä½“å¤§å° */
                width: calc(50% - 4px); /* æŒ‰é’®å®½åº¦å¹³åˆ†ï¼Œå‡å»é—´è· */
            }
            
            .submit-wrapper {
                gap: 8px; /* å‡å°æŒ‰é’®é—´è· */
                padding: 10px 15px; /* å‡å°å†…è¾¹è· */
            }
        }

        /* æŠ–åŠ¨åŠ¨ç”» */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        .shake { animation: shake 0.5s; }

        /* é¡¶éƒ¨Tip */
        @keyframes tipFadeIn {
            from { opacity: 0; transform: translateX(-50%) translateY(-20px); }
            to { opacity: 1; transform: translateX(-50%) translateY(0); }
        }
    </style>
</head>
<body>

    <div class="container" id="quizPage">
        <!-- å°†quiz-header-fixedç§»å‡ºquiz-container -->
        <div class="quiz-header-fixed">
            <div class="header">
                <div class="header-top">
                    <div class="header-left">
                        <h1>ğŸ’– æ‹çˆ±äººæ ¼æµ‹è¯•</h1>
                        <p>äº†è§£ä½ åœ¨äº²å¯†å…³ç³»ä¸­çš„è¡Œä¸ºä¸æƒ…æ„Ÿ</p>
                    </div>
                    <div class="header-badges">
                        <div class="badge badge-blue">ğŸ” 40 é¢˜ Â· æ»¡åˆ† 100 åˆ†</div>
                        <div class="badge badge-green">ğŸ’ å»ºè®®çœŸå®ä½œç­”</div>
                    </div>
                </div>
                <div class="disclaimer">
                    <i>âš ï¸</i> å…è´£å£°æ˜ï¼šæœ¬æµ‹è¯•æ—¨åœ¨å¸®åŠ©æ‚¨è‡ªæˆ‘è®¤çŸ¥ï¼Œä¸æ„æˆä¸“ä¸šå¿ƒç†è¯Šæ–­ã€‚è¯·å®¢è§‚ä½œç­”ã€‚
                </div>
            </div>

            <div class="progress-section">
                <div class="progress-header">
                    <div class="progress-stats" id="progressText">å·²å®Œæˆ 0 / 40 é¢˜</div>
                    <div class="hint-tag">è¯·æ ¹æ®ã€Œä½ åœ¨å…³ç³»ä¸­çš„çœŸå®æ„Ÿå—ã€ä½œç­”</div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
        </div>

        <div class="quiz-container">
            <form id="quizForm" style="display: flex; flex-direction: column; flex-grow: 1;">
                <div class="questions-scroll-wrapper">
                    <div id="questionsContainer"></div>
                </div>

                <div class="submit-wrapper">
                    <button type="button" class="submit-btn btn-back-to-top" onclick="scrollToTop()">
                        <svg class="btn-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="18 15 12 9 6 15"></polyline>
                        </svg>
                        å›åˆ°é¡¶éƒ¨
                    </button>
                    <button type="submit" class="submit-btn" id="submitBtn">
                        <span class="btn-decoration">âœ¨</span>
                        ç”Ÿæˆæ‹çˆ±äººæ ¼è¯„ä¼°
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Loadingé¡µé¢ -->
    <div class="loading-container" id="loadingPage">
        <div class="loader"></div>
        <div style="margin-top: 25px; font-size: 22px; font-weight: 700; color: #5A3E65; letter-spacing: -0.5px;">
            æ™ºèƒ½è¯„ä¼°ç”Ÿæˆä¸­<span id="loadingDots">...</span>
        </div>
        <p style="margin-top: 10px; color: #8B5CF6; font-size: 15px;">æ­£åœ¨åˆ†ææ‚¨çš„æ‹çˆ±äººæ ¼ç‰¹è´¨</p>
    </div>

    <!-- ç»“æœé¡µé¢ -->
    <div class="container" id="resultPage" style="display:none">
        <div class="result-container">
            <div class="header">
                <h1>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px; vertical-align: -4px; color: #8B5CF6;">
                        <path d="M3 3v18h18"></path>
                        <path d="M18 17V9"></path>
                        <path d="M13 17V5"></path>
                        <path d="M8 17v-3"></path>
                    </svg>
                    æ‹çˆ±äººæ ¼è¯„ä¼°æŠ¥å‘Š
                </h1>
            </div>

            <div class="score-display">
                <div class="score-level" id="scoreLevel" style="color: #8B5CF6;"></div>
                <div class="score-desc" id="scoreDescription" style="color: #8B5CF6;"></div>
            </div>

            <div class="severity-indicator" id="severityIndicator">
                <span class="severity-level severity-1">å®‰å…¨ç‹¬ç«‹</span>
                <span class="severity-level severity-2">å¹³è¡¡æˆé•¿</span>
                <span class="severity-level severity-3">æƒ…æ„Ÿä¾èµ–</span>
                <span class="severity-level severity-4">ç„¦è™‘æ•æ„Ÿ</span>
                <span class="severity-level severity-5">æç«¯æ‹çˆ±è„‘</span>
            </div>

            <div class="results-main-content">
                <div class="score-circle-wrapper">
                    <div class="score-circle-box">
                        <div class="score-value" id="scoreValue">0</div>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>
            </div>

            <div class="analysis-section">
                <h2 class="section-title">è¯¦ç»†åˆ†æ</h2>
                <div class="analysis-content" id="analysisContent"></div>
            </div>

            <div class="analysis-section">
                <h2 class="section-title">ä¸“å®¶å»ºè®®</h2>
                <ul class="suggestion-list" id="suggestionList"></ul>
            </div>

            <div class="submit-wrapper">
                <button class="submit-btn" onclick="restartQuiz()">é‡æ–°è¯„ä¼°</button>
                <button class="submit-btn btn-secondary" onclick="viewAnswers()">æŸ¥çœ‹æˆ‘çš„å›ç­”</button>
            </div>
        </div>
    </div>

    <!-- ç­”æ¡ˆæŸ¥çœ‹é¡µé¢ -->
    <div class="container" id="answerPage" style="display:none">
        <div class="answer-container">
            <div class="header">
                <h1>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px; vertical-align: -4px; color: #8B5CF6;">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="16" y1="2" x2="16" y2="6"></line>
                        <line x1="8" y1="2" x2="8" y2="6"></line>
                        <line x1="3" y1="10" x2="21" y2="10"></line>
                    </svg>
                    æˆ‘çš„æ‹çˆ±äººæ ¼ç­”æ¡ˆ
                </h1>
            </div>
            <div id="answersContainer"></div>
            <div class="submit-wrapper">
                <button class="submit-btn" onclick="showResultsPage()">è¿”å›è¯„ä¼°æŠ¥å‘Š</button>
                <button class="submit-btn btn-secondary" onclick="restartQuiz()">é‡æ–°è¯„ä¼°</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const questions = [
            { id: 1, text: "åœ¨æ‹çˆ±å…³ç³»ä¸­ï¼Œæˆ‘æ›´å€¾å‘äºä¿æŒæ¸…æ™°çš„ä¸ªäººè¾¹ç•Œï¼Œå°Šé‡å½¼æ­¤çš„ç‹¬ç«‹ç©ºé—´", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 2, text: "æˆ‘ä¼šå®šæœŸè¯„ä¼°è‡ªå·±åœ¨å…³ç³»ä¸­çš„éœ€æ±‚æ˜¯å¦å¾—åˆ°æ»¡è¶³ï¼Œè€Œéå®Œå…¨å¿½è§†è‡ªæˆ‘", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 3, text: "å½“ä¼´ä¾£ä¸å¼‚æ€§æœ‹å‹æ­£å¸¸äº¤å¾€æ—¶ï¼Œæˆ‘ä¼šæ„Ÿåˆ°ä¸å®‰å’Œå«‰å¦’", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 4, text: "æˆ‘èƒ½å¤Ÿç†æ€§åˆ†æå…³ç³»ä¸­çš„é—®é¢˜ï¼Œè€Œä¸æ˜¯è¢«æƒ…ç»ªå®Œå…¨ä¸»å¯¼", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 5, text: "æˆ‘ä¼šå› ä¸ºä¼´ä¾£çš„ä¸€å¥è¯æˆ–ä¸€ä¸ªè¡¨æƒ…è€Œè¿‡åº¦è§£è¯»ï¼Œå½±å“æ•´å¤©çš„å¿ƒæƒ…", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 6, text: "æˆ‘è®¤ä¸ºå¥åº·çš„å…³ç³»éœ€è¦åŒæ–¹éƒ½æœ‰å„è‡ªçš„å…´è¶£çˆ±å¥½å’Œç¤¾äº¤åœˆ", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 7, text: "å½“ä¼´ä¾£è¡¨ç°å‡ºå†·æ·¡æ—¶ï¼Œæˆ‘ä¼šç«‹å³è‡ªæˆ‘æ€€ç–‘ï¼Œè®¤ä¸ºæ˜¯è‡ªå·±ä¸å¤Ÿå¥½", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 8, text: "æˆ‘èƒ½å¤Ÿæ¸…æ™°åœ°å‘ä¼´ä¾£è¡¨è¾¾è‡ªå·±çš„éœ€æ±‚å’Œæ„Ÿå—ï¼Œè€Œéè®©å¯¹æ–¹çŒœæµ‹", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 9, text: "ä¸ºäº†é¿å…å†²çªï¼Œæˆ‘ä¼šè¿‡åº¦è¿å°±ä¼´ä¾£ï¼Œç‰ºç‰²è‡ªå·±çš„çœŸå®æƒ³æ³•", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 10, text: "æˆ‘ä¼šå®¢è§‚çœ‹å¾…ä¼´ä¾£çš„ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼Œä¸ä¼šè¿‡åº¦ç†æƒ³åŒ–", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 11, text: "å½“å…³ç³»å‡ºç°é—®é¢˜æ—¶ï¼Œæˆ‘ä¼šä¸ä¼´ä¾£å…±åŒåˆ†æåŸå› ï¼Œè€Œéç‹¬è‡ªæ‰¿æ‹…æ‰€æœ‰è´£ä»»", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 12, text: "æˆ‘å¾ˆéš¾æ¥å—ä¼´ä¾£æœ‰è‡ªå·±çš„ç§äººç©ºé—´å’Œæ—¶é—´", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 13, text: "æˆ‘ä¼šæ”¯æŒä¼´ä¾£è¿½æ±‚ä¸ªäººç›®æ ‡ï¼Œå³ä½¿è¿™æ„å‘³ç€æˆ‘ä»¬ç›¸å¤„æ—¶é—´å‡å°‘", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 14, text: "æˆ‘è®¤ä¸ºçˆ±æƒ…éœ€è¦ä¿æŒä¸€å®šçš„è·ç¦»æ„Ÿï¼Œæ‰èƒ½é•¿ä¹…ä¿é²œ", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 15, text: "å½“ä¼´ä¾£æ²¡æœ‰æŒ‰ç…§æˆ‘çš„æœŸæœ›è¡Œäº‹æ—¶ï¼Œæˆ‘ä¼šæ„Ÿåˆ°å¼ºçƒˆçš„å¤±æœ›å’Œå—ä¼¤", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 16, text: "æˆ‘ä¼šå°†å…³ç³»çš„æˆåŠŸæˆ–å¤±è´¥è§†ä¸ºåŒæ–¹å…±åŒä½œç”¨çš„ç»“æœï¼Œè€Œéä¸ªäººè´£ä»»", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 17, text: "æˆ‘èƒ½å¤Ÿåœ¨æƒ…ç»ªæ¿€åŠ¨æ—¶ä¿æŒå†·é™ï¼Œé¿å…è¯´å‡ºä¼¤å®³å¯¹æ–¹çš„è¯", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 18, text: "æˆ‘ä¼šå› ä¸ºå®³æ€•å¤±å»å…³ç³»è€Œè¿‡åº¦å°å¿ƒç¿¼ç¿¼ï¼Œä¸æ•¢çœŸå®è¡¨è¾¾", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 19, text: "æˆ‘è®¤ä¸ºæ¯ä¸ªäººéƒ½æœ‰æƒåˆ©ä¿ç•™é€‚å½“çš„ä¸ªäººéšç§ï¼Œå³ä½¿åœ¨äº²å¯†å…³ç³»ä¸­", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 20, text: "æˆ‘çš„è‡ªæˆ‘ä»·å€¼æ„Ÿä¸ä¼šå› ä¸ºä¼´ä¾£çš„èµç¾æˆ–æ‰¹è¯„è€Œå¤§å¹…æ³¢åŠ¨", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 21, text: "æˆ‘ä¼šè¿‡åº¦è§£è¯»ä¼´ä¾£çš„è¡Œä¸ºï¼Œå¯»æ‰¾æ½œåœ¨çš„æ‹’ç»æˆ–èƒŒå›ä¿¡å·", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 22, text: "å½“å…³ç³»å‡ºç°çŸ›ç›¾æ—¶ï¼Œæˆ‘ä¼šä¼˜å…ˆç…§é¡¾è‡ªå·±çš„æ„Ÿå—ï¼Œå†è€ƒè™‘ä¿®å¤å…³ç³»", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 23, text: "æˆ‘èƒ½å¤Ÿæ¥å—å…³ç³»ä¸­å­˜åœ¨çš„ä¸ç¡®å®šæ€§ï¼Œç›¸ä¿¡å…³ç³»ä¼šè‡ªç„¶å‘å±•", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 24, text: "æˆ‘ä¸ä¼šå°†ä¼´ä¾£çš„è®¤å¯è§†ä¸ºè‡ªæˆ‘ä»·å€¼çš„å”¯ä¸€æ¥æº", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 25, text: "æˆ‘è®¤ä¸ºåœ¨å…³ç³»ä¸­åº”è¯¥ä¿æŒä¸€å®šçš„ç‹¬ç«‹æ€§ï¼Œè€Œéå®Œå…¨ä¾èµ–å¯¹æ–¹", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 26, text: "æˆ‘ä¼šå¦è¯šè¡¨è¾¾è‡ªå·±çš„ä¸åŒæ„è§ï¼Œå³ä½¿è¿™å¯èƒ½å¼•èµ·å†²çª", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 27, text: "æˆ‘ä¼šå¹³è¡¡å…³ç³»å’Œä¸ªäººç”Ÿæ´»ï¼Œä¸ä¼šå°†æ‰€æœ‰ç²¾åŠ›éƒ½æŠ•å…¥åˆ°å…³ç³»ä¸­", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 28, text: "å½“ä¼´ä¾£éœ€è¦ç‹¬å¤„æ—¶ï¼Œæˆ‘ä¼šç†è§£å¹¶ç»™äºˆç©ºé—´", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 29, text: "æˆ‘ä¼šç†æ€§çœ‹å¾…å…³ç³»ä¸­çš„å°çŸ›ç›¾ï¼Œä¸ä¼šè¿‡åº¦æ”¾å¤§æˆ–ç¾éš¾åŒ–", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 30, text: "æˆ‘è®¤ä¸ºçˆ±æƒ…æ˜¯ç”Ÿæ´»çš„é‡è¦éƒ¨åˆ†ï¼Œä½†ä¸æ˜¯å…¨éƒ¨", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 31, text: "æˆ‘ä¼šä¿æŒä¸å®¶äººæœ‹å‹çš„è”ç³»ï¼Œä¸ä¼šå› ä¸ºæ‹çˆ±è€Œç–è¿œä»–ä»¬", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 32, text: "å³ä½¿å…³ç³»å‡ºç°å±æœºï¼Œæˆ‘ä¹Ÿèƒ½ä¿æŒåŸºæœ¬çš„ç”Ÿæ´»æ­£å¸¸è¿è½¬", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 33, text: "æˆ‘ä¼šåšæŒè‡ªå·±çš„æ ¸å¿ƒä»·å€¼è§‚ï¼Œä¸ä¼šå› ä¸ºä¼´ä¾£è€Œè½»æ˜“æ”¹å˜", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 34, text: "æˆ‘èƒ½å¤Ÿæ¥å—ä¼´ä¾£çš„ä¸å®Œç¾ï¼Œç†è§£äººæ— å®Œäºº", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 35, text: "æˆ‘ä¼šäº«å—å½“ä¸‹çš„å…³ç³»ï¼Œä¸ä¼šè¿‡åº¦è§„åˆ’å’Œç„¦è™‘æœªæ¥", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 36, text: "æˆ‘è®¤ä¸ºå¥åº·çš„å…³ç³»éœ€è¦ä¿æŒä¸¤ä¸ªç‹¬ç«‹ä¸ªä½“çš„å®Œæ•´æ€§", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 37, text: "æˆ‘ä¼šä¿¡ä»»ä¼´ä¾£çš„æ‰¿è¯ºï¼Œä¸ä¼šæ— ç«¯æ€€ç–‘", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 38, text: "æˆ‘ä¼šå°†å…³ç³»çš„å¤±è´¥è§†ä¸ºæˆé•¿æœºä¼šï¼Œè€Œéä¸ªäººçš„å®Œå…¨å¤±è´¥", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 39, text: "æˆ‘èƒ½å¤Ÿå®¹å¿å…³ç³»ä¸­çš„ä¸ç¡®å®šæ€§ï¼Œä¸ä¼šå› æ­¤æ„Ÿåˆ°ç„¦è™‘", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] },
            { id: 40, text: "æˆ‘è®¤ä¸ºåœ¨å…³ç³»ä¸­åº”è¯¥ä¿æŒå¹³ç­‰ï¼ŒåŒæ–¹éƒ½åº”è¯¥ä¸ºè‡ªå·±çš„å¹¸ç¦è´Ÿè´£", options: ["å®Œå…¨ä¸ç¬¦åˆ", "ä¸å¤ªç¬¦åˆ", "ä¸€èˆ¬", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"] }
        ];

        let userAnswers = {};
        let totalScore = 0;

        function initQuiz() {
            const container = document.getElementById('questionsContainer');
            container.innerHTML = '';
            questions.sort((a,b) => a.id - b.id);
            questions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-item';
                questionDiv.id = `question-${q.id}`;
                const displayId = (index + 1).toString().padStart(2, '0');

                questionDiv.innerHTML = `
                    <div class="question-title-row">
                        <div class="question-index">${displayId}.</div>
                        <div class="question-text">${q.text}</div>
                    </div>
                    <div class="options-grid">
                        ${q.options.map((option, optIndex) => `
                            <label class="option-capsule">
                                <input type="radio" name="q${q.id}" value="${optIndex}" onchange="selectOption(${q.id}, ${optIndex})">
                                ${option}
                            </label>
                        `).join('')}
                    </div>
                `;
                container.appendChild(questionDiv);
            });
        }

        function selectOption(qId, val) {
            userAnswers[qId] = val;
            const labels = document.querySelectorAll(`#question-${qId} .option-capsule`);
            labels.forEach((l, idx) => {
                l.classList.toggle('selected', idx === val);
            });
            updateProgress();
            
            const nextId = questions[questions.findIndex(q => q.id === qId) + 1]?.id;
            // ç§»é™¤æ‰€æœ‰activeçŠ¶æ€
            document.querySelectorAll('.question-item').forEach(item => {
                item.classList.remove('active');
            });

            if (nextId) {
                setTimeout(() => {
                    const nextEl = document.getElementById(`question-${nextId}`);
                    if(nextEl) {
                        // æ·»åŠ ä¸‹ä¸€é¢˜çš„activeçŠ¶æ€å¹¶æ»šåŠ¨
                        nextEl.classList.add('active');
                        nextEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                }, 300);
            } else { // å¦‚æœæ˜¯æœ€åä¸€é¢˜ï¼Œä¸”å·²ä½œç­”ï¼Œè®©å½“å‰é¢˜ç›®ä¿æŒactiveçŠ¶æ€
                document.getElementById(`question-${qId}`).classList.add('active');
            }
        }

        function updateProgress() {
            const count = Object.keys(userAnswers).length;
            const percent = (count / questions.length) * 100;
            document.getElementById('progressFill').style.width = percent + '%';
            document.getElementById('progressText').textContent = `å·²å®Œæˆ ${count} / ${questions.length} é¢˜`;
        }

        document.getElementById('quizForm').addEventListener('submit', function(e) {
            e.preventDefault();
            if (Object.keys(userAnswers).length < questions.length) {
                const firstUn = questions.find(q => userAnswers[q.id] === undefined);
                const el = document.getElementById(`question-${firstUn.id}`);
                el.scrollIntoView({ behavior: 'smooth', block: 'center' });
                el.classList.add('shake');
                showUnansweredTip(firstUn.id);
                setTimeout(() => el.classList.remove('shake'), 500);
                return;
            }
            
            calculateScore();
            document.getElementById('loadingPage').classList.add('show');
            setTimeout(() => {
                document.getElementById('loadingPage').classList.remove('show');
                showResultsPage();
            }, 2000);
        });

        function calculateScore() {
            let sum = 0;
            // æ­£å‘è®¡åˆ†é¢˜ç›®IDåˆ—è¡¨ï¼ˆå¥åº·é€‰é¡¹ï¼Œå¾—åˆ†è¶Šé«˜è¶Šå¥åº·ï¼Œéœ€è¦è½¬æ¢ä¸ºåå‘è®¡åˆ†ï¼‰
            const positiveQuestions = [1,2,4,6,8,10,11,13,14,16,17,19,20,22,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40];
            
            Object.entries(userAnswers).forEach(([qId, value]) => {
                const questionId = parseInt(qId);
                // å¦‚æœæ˜¯æ­£å‘è®¡åˆ†é¢˜ç›®ï¼ˆå¥åº·é€‰é¡¹ï¼‰ï¼Œè½¬æ¢ä¸ºåå‘è®¡åˆ†ï¼ˆ4-valueï¼‰
                // è¿™æ ·å¾—åˆ†è¶Šé«˜ï¼Œä»£è¡¨æ‹çˆ±è„‘ç¨‹åº¦è¶Šé«˜
                if (positiveQuestions.includes(questionId)) {
                    sum += (4 - value);
                } else {
                    sum += value;
                }
            });
            
            totalScore = Math.round((sum / (questions.length * 4)) * 100);
        }

        function showResultsPage() {
            document.getElementById('quizPage').style.display = 'none';
            document.getElementById('answerPage').style.display = 'none';
            document.getElementById('resultPage').style.display = 'block';
            document.getElementById('scoreValue').textContent = totalScore;

            // ç¡®ä¿ç§»é™¤æ‰€æœ‰activeçŠ¶æ€ï¼Œé¿å…ç»“æœé¡µå‡ºç°é¢˜ç›®active
            document.querySelectorAll('.question-item').forEach(item => {
                item.classList.remove('active');
            });

            const analysis = getScoreLevelDetails(totalScore);
            document.getElementById('scoreLevel').textContent = analysis.level;
            document.getElementById('scoreDescription').textContent = analysis.description;
            document.getElementById('analysisContent').innerHTML = analysis.analysis;
            
            const sList = document.getElementById('suggestionList');
            sList.innerHTML = analysis.suggestions.map(s => `<li>${s}</li>`).join('');
            
            // æ›´æ–°ä¸¥é‡ç¨‹åº¦æŒ‡ç¤ºå™¨
            updateSeverityIndicator(totalScore);
            
            renderRadarChart();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function updateSeverityIndicator(score) {
            const levels = document.querySelectorAll('.severity-level');
            levels.forEach(l => l.classList.remove('active'));
            
            if (score <= 20) {
                document.querySelector('.severity-1').classList.add('active');
            } else if (score <= 40) {
                document.querySelector('.severity-2').classList.add('active');
            } else if (score <= 60) {
                document.querySelector('.severity-3').classList.add('active');
            } else if (score <= 80) {
                document.querySelector('.severity-4').classList.add('active');
            } else {
                document.querySelector('.severity-5').classList.add('active');
            }
        }

        function getScoreLevelDetails(score) {
            if (score <= 20) return { 
                level: 'ğŸŒŸ å®‰å…¨ç‹¬ç«‹å‹', 
                description: 'æ‚¨åœ¨äº²å¯†å…³ç³»ä¸­å±•ç°å‡ºå¥åº·çš„ç‹¬ç«‹æ€§ä¸å®‰å…¨æ„Ÿï¼Œæ‹¥æœ‰æˆç†Ÿçš„æ‹çˆ±äººæ ¼ã€‚', 
                analysis: '<p><b>æ ¸å¿ƒç‰¹å¾ï¼š</b>æ‚¨æ‹¥æœ‰æ¸…æ™°çš„è‡ªæˆ‘è¾¹ç•Œå’Œç¨³å®šçš„è‡ªæˆ‘ä»·å€¼æ„Ÿï¼Œä¸ä¼šå°†ä¸ªäººå¹¸ç¦å®Œå…¨å¯„æ‰˜äºäº²å¯†å…³ç³»ã€‚æ‚¨èƒ½å¤Ÿåœ¨ä¿æŒç‹¬ç«‹çš„åŒæ—¶ï¼Œäº«å—ä¸ä¼´ä¾£çš„äº²å¯†è”ç»“ã€‚æ‚¨å¯¹å…³ç³»æŒæœ‰ç†æ€§çš„æ€åº¦ï¼Œèƒ½å¤Ÿå®¢è§‚åˆ†æé—®é¢˜ï¼Œä¸ä¼šè¢«æƒ…ç»ªè¿‡åº¦ä¸»å¯¼ã€‚æ‚¨å°Šé‡ä¼´ä¾£çš„ä¸ªäººç©ºé—´ï¼Œä¿¡ä»»å¯¹æ–¹çš„è¡Œä¸ºï¼Œä¸ä¼šæ— ç«¯äº§ç”Ÿå«‰å¦’æˆ–ç„¦è™‘ã€‚</p><p><b>å¿ƒç†å­¦è§£è¯»ï¼š</b>æ ¹æ®ä¾æ‹ç†è®ºï¼Œæ‚¨å±äºå®‰å…¨å‹ä¾æ‹é£æ ¼ï¼Œè¿™æ˜¯æœ€å¥åº·çš„ä¾æ‹ç±»å‹ã€‚æ‚¨åœ¨ç«¥å¹´æ—¶æœŸå¾—åˆ°äº†è¶³å¤Ÿçš„çˆ±ä¸å®‰å…¨æ„Ÿï¼Œå› æ­¤åœ¨æˆå¹´å…³ç³»ä¸­èƒ½å¤Ÿä¿¡ä»»ä»–äººï¼Œä¹Ÿèƒ½å¤Ÿä¿¡ä»»è‡ªå·±ã€‚æ‚¨çš„è‡ªæˆ‘è®¤çŸ¥æ¸…æ™°ï¼Œæƒ…ç»ªè°ƒèŠ‚èƒ½åŠ›å¼ºï¼Œè¿™ä½¿å¾—æ‚¨çš„äº²å¯†å…³ç³»æ›´åŠ ç¨³å®šå’Œå¥åº·ã€‚</p><p><b>ä¼˜åŠ¿ä½“ç°ï¼š</b>æ‚¨çš„å…³ç³»æ¨¡å¼æœ‰åŠ©äºå»ºç«‹å¹³ç­‰ã€å°Šé‡ä¸”å……æ»¡æ´»åŠ›çš„é•¿æœŸä¼´ä¾£å…³ç³»ã€‚æ‚¨èƒ½å¤Ÿä¸ºä¼´ä¾£æä¾›ç¨³å®šçš„æƒ…æ„Ÿæ”¯æŒï¼ŒåŒæ—¶ä¹Ÿèƒ½ä»å…³ç³»ä¸­è·å¾—æ»‹å…»ã€‚æ‚¨çš„ç‹¬ç«‹æ€§å’Œå®‰å…¨æ„Ÿä¼šæ„ŸæŸ“ä¼´ä¾£ï¼Œä¿ƒè¿›åŒæ–¹å…±åŒæˆé•¿ã€‚</p>', 
                suggestions: [
                    '<b>åˆ†äº«æ‚¨çš„ä¾æ‹é£æ ¼ï¼š</b>ä¸ä¼´ä¾£åˆ†äº«æ‚¨çš„å®‰å…¨å‹ä¾æ‹ç‰¹è´¨ï¼Œå¸®åŠ©å¯¹æ–¹ç†è§£æ‚¨çš„è¡Œä¸ºæ¨¡å¼ï¼Œä¿ƒè¿›å½¼æ­¤çš„ç†è§£ä¸æ¥çº³ã€‚',
                    '<b>æ”¯æŒä¼´ä¾£æˆé•¿ï¼š</b>åˆ©ç”¨æ‚¨çš„æƒ…æ„Ÿç¨³å®šæ€§ï¼Œæ”¯æŒä¼´ä¾£æ¢ç´¢è‡ªå·±çš„ä¾æ‹æ¨¡å¼ï¼Œå…±åŒåˆ›é€ æ›´å¥åº·çš„å…³ç³»åŠ¨æ€ã€‚',
                    '<b>ä¿æŒè‡ªæˆ‘æˆé•¿ï¼š</b>ç»§ç»­åŸ¹å…»ä¸ªäººå…´è¶£å’Œç›®æ ‡ï¼Œä¸æ–­ä¸°å¯Œè‡ªå·±çš„å†…å¿ƒä¸–ç•Œï¼Œè¿™å°†ä½¿æ‚¨åœ¨å…³ç³»ä¸­æ›´å…·å¸å¼•åŠ›å’Œæ´»åŠ›ã€‚',
                    '<b>å®šæœŸå…³ç³»æ£€æŸ¥ï¼š</b>å°½ç®¡å…³ç³»ç¨³å®šï¼Œä»å»ºè®®å®šæœŸä¸ä¼´ä¾£è¿›è¡Œæ·±å…¥æ²Ÿé€šï¼Œåˆ†äº«å½¼æ­¤çš„éœ€æ±‚å’Œæ„Ÿå—ï¼Œç¡®ä¿å…³ç³»æŒç»­å¥åº·å‘å±•ã€‚'
                ] 
            };
            if (score <= 40) return { 
                level: 'ğŸŒ± å¹³è¡¡æˆé•¿å‹', 
                description: 'æ‚¨åœ¨äº²å¯†å…³ç³»ä¸­å±•ç°å‡ºè‰¯å¥½çš„å¹³è¡¡æ„Ÿï¼Œæ­£åœ¨æˆé•¿ä¸ºæ›´æˆç†Ÿçš„æ‹çˆ±äººæ ¼ã€‚', 
                analysis: '<p><b>æ ¸å¿ƒç‰¹å¾ï¼š</b>æ‚¨åŸºæœ¬èƒ½å¤Ÿä¿æŒä¸ªäººè¾¹ç•Œå’Œè‡ªæˆ‘ä»·å€¼ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ä¼šè¡¨ç°å‡ºä¸€å®šçš„æƒ…æ„Ÿä¾èµ–æˆ–ç„¦è™‘ã€‚æ‚¨é‡è§†å…³ç³»ï¼Œæ„¿æ„ä¸ºä¼´ä¾£ä»˜å‡ºï¼Œä½†ä¹Ÿä¼šå…³æ³¨è‡ªå·±çš„éœ€æ±‚ã€‚æ‚¨èƒ½å¤Ÿç†æ€§å¤„ç†å¤§å¤šæ•°å…³ç³»é—®é¢˜ï¼Œä½†åœ¨æƒ…ç»ªæ¿€åŠ¨æ—¶å¯èƒ½ä¼šå¤±å»éƒ¨åˆ†ç†æ€§ã€‚æ‚¨ä¿¡ä»»ä¼´ä¾£ï¼Œä½†å¶å°”ä¼šäº§ç”Ÿä¸å¿…è¦çš„æ€€ç–‘æˆ–æ‹…å¿ƒã€‚</p><p><b>å¿ƒç†å­¦è§£è¯»ï¼š</b>æ‚¨æ­£å¤„äºå®‰å…¨å‹ä¾æ‹çš„å‘å±•é˜¶æ®µï¼Œé€šè¿‡æœ‰æ„è¯†çš„è‡ªæˆ‘æˆé•¿ï¼Œå¯ä»¥è¿›ä¸€æ­¥æå‡ä¾æ‹å®‰å…¨æ€§ã€‚æ‚¨å·²ç»å…·å¤‡äº†å¥åº·å…³ç³»çš„åŸºæœ¬è¦ç´ ï¼Œåªéœ€åœ¨æŸäº›æ–¹é¢è¿›è¡Œå¾®è°ƒï¼Œå°±èƒ½å‘å±•å‡ºæ›´åŠ æˆç†Ÿçš„æ‹çˆ±äººæ ¼ã€‚</p><p><b>æˆé•¿ç©ºé—´ï¼š</b>æ‚¨çš„ä¸»è¦æˆé•¿æ–¹å‘æ˜¯å¢å¼ºæƒ…ç»ªç¨³å®šæ€§å’Œä¿¡ä»»èƒ½åŠ›ï¼Œå­¦ä¼šåœ¨å…³ç³»ä¸­æ›´åŠ æ”¾æ¾ï¼Œå‡å°‘ä¸å¿…è¦çš„æ‹…å¿ƒå’Œç„¦è™‘ã€‚é€šè¿‡è‡ªæˆ‘è§‰å¯Ÿå’Œæœ‰æ„è¯†çš„ç»ƒä¹ ï¼Œæ‚¨å¯ä»¥è¿›ä¸€æ­¥æå‡å…³ç³»çš„è´¨é‡ã€‚</p>', 
                suggestions: [
                    '<b>å¢å¼ºæƒ…ç»ªè§‰å¯Ÿï¼š</b>å½“æ„Ÿåˆ°ç„¦è™‘æˆ–ä¸å®‰æ—¶ï¼Œå°è¯•æš‚åœå¹¶è§‚å¯Ÿè‡ªå·±çš„æƒ…ç»ªï¼Œåˆ†ææƒ…ç»ªçš„æ¥æºï¼Œè€Œéç«‹å³ååº”ã€‚',
                    '<b>å»ºç«‹ä¿¡ä»»é”šç‚¹ï¼š</b>ä¸ä¼´ä¾£çº¦å®šä¸€äº›ä¿¡ä»»ä»ªå¼ï¼Œå¦‚å®šæœŸåˆ†äº«æ—¥å¸¸ã€å¦è¯šæ²Ÿé€šæ„Ÿå—ï¼Œå¢å¼ºå½¼æ­¤çš„ä¿¡ä»»æ„Ÿã€‚',
                    '<b>åŸ¹å…»ç‹¬å¤„èƒ½åŠ›ï¼š</b>åˆ»æ„å®‰æ’ç‹¬å¤„æ—¶é—´ï¼Œäº«å—ç‹¬ç«‹æ´»åŠ¨çš„ä¹è¶£ï¼Œå¢å¼ºå†…å¿ƒçš„å®‰å…¨æ„Ÿå’Œç‹¬ç«‹æ€§ã€‚',
                    '<b>å­¦ä¹ éæš´åŠ›æ²Ÿé€šï¼š</b>é€šè¿‡å­¦ä¹ æœ‰æ•ˆçš„æ²Ÿé€šæŠ€å·§ï¼Œæ›´å¥½åœ°è¡¨è¾¾è‡ªå·±çš„éœ€æ±‚å’Œæ„Ÿå—ï¼Œé¿å…å†²çªå‡çº§ã€‚'
                ] 
            };
            if (score <= 60) return { 
                level: 'â¤ï¸ æƒ…æ„Ÿä¾èµ–å‹', 
                description: 'æ‚¨åœ¨äº²å¯†å…³ç³»ä¸­æƒ…æ„ŸæŠ•å…¥åº¦è¾ƒé«˜ï¼Œå­˜åœ¨ä¸€å®šçš„ä¾èµ–å€¾å‘ï¼Œéœ€è¦å…³æ³¨è‡ªæˆ‘è¾¹ç•Œã€‚', 
                analysis: '<p><b>æ ¸å¿ƒç‰¹å¾ï¼š</b>æ‚¨éå¸¸é‡è§†äº²å¯†å…³ç³»ï¼Œæƒ…æ„Ÿéœ€æ±‚è¾ƒä¸ºå¼ºçƒˆï¼Œå®¹æ˜“å°†ä¸ªäººä»·å€¼ä¸å…³ç³»è´¨é‡æŒ‚é’©ã€‚æ‚¨åœ¨å…³ç³»ä¸­æŠ•å…¥è¾ƒå¤šç²¾åŠ›ï¼Œå¯èƒ½ä¼šè¿‡åº¦å…³æ³¨ä¼´ä¾£çš„è¡Œä¸ºå’Œæƒ…ç»ªã€‚å½“ä¼´ä¾£ä¸åœ¨èº«è¾¹æˆ–è¡¨ç°å‡ºå†·æ·¡æ—¶ï¼Œæ‚¨ä¼šæ„Ÿåˆ°ä¸å®‰å’Œç„¦è™‘ã€‚æ‚¨å¯èƒ½ä¼šä¸ºäº†ç»´æŒå…³ç³»è€Œå¦¥åè‡ªå·±çš„éœ€æ±‚ï¼Œéš¾ä»¥åšæŒä¸ªäººè¾¹ç•Œã€‚</p><p><b>å¿ƒç†å­¦è§£è¯»ï¼š</b>æ‚¨å¯èƒ½å±äºç„¦è™‘å‹ä¾æ‹é£æ ¼ï¼Œè¿™ç§ä¾æ‹æ¨¡å¼é€šå¸¸æºäºç«¥å¹´æ—¶æœŸçš„æƒ…æ„Ÿéœ€æ±‚æœªè¢«å……åˆ†æ»¡è¶³ã€‚æ‚¨å¯¹äº²å¯†å…³ç³»æœ‰ç€å¼ºçƒˆçš„æ¸´æœ›ï¼Œä½†åŒæ—¶ä¹Ÿå……æ»¡äº†ä¸ç¡®å®šæ„Ÿï¼Œå®³æ€•è¢«æ‹’ç»æˆ–æŠ›å¼ƒã€‚</p><p><b>æ½œåœ¨æŒ‘æˆ˜ï¼š</b>è¿‡åº¦çš„æƒ…æ„Ÿä¾èµ–å¯èƒ½ä¼šç»™ä¼´ä¾£å¸¦æ¥å‹åŠ›ï¼Œä¹Ÿä¼šè®©æ‚¨åœ¨å…³ç³»ä¸­å¤±å»è‡ªæˆ‘ã€‚é•¿æœŸä¸‹å»ï¼Œå¯èƒ½ä¼šå¯¼è‡´å…³ç³»å¤±è¡¡ï¼Œå½±å“å…³ç³»çš„å¥åº·å‘å±•ã€‚</p>', 
                suggestions: [
                    '<b>é‡å»ºè‡ªæˆ‘è®¤åŒï¼š</b>é‡æ–°æ¢ç´¢ä¸ªäººå…´è¶£å’Œç›®æ ‡ï¼Œå°†æ³¨æ„åŠ›ä»å…³ç³»è½¬å‘è‡ªæˆ‘æˆé•¿ï¼Œå»ºç«‹ç‹¬ç«‹äºå…³ç³»çš„è‡ªæˆ‘ä»·å€¼æ„Ÿã€‚',
                    '<b>è®¾å®šå¥åº·è¾¹ç•Œï¼š</b>æ˜ç¡®è‡ªå·±çš„éœ€æ±‚å’Œåº•çº¿ï¼Œå­¦ä¼šæ¸©å’Œè€Œåšå®šåœ°è¡¨è¾¾æ‹’ç»ï¼Œä¿æŠ¤ä¸ªäººç©ºé—´å’Œåˆ©ç›Šã€‚',
                    '<b>å‘å±•å¤šå…ƒæ”¯æŒç³»ç»Ÿï¼š</b>é™¤äº†ä¼´ä¾£å¤–ï¼Œç§¯æä¸å®¶äººã€æœ‹å‹ä¿æŒè”ç³»ï¼Œå»ºç«‹å¹¿æ³›çš„æƒ…æ„Ÿæ”¯æŒç½‘ç»œã€‚',
                    '<b>ç»ƒä¹ æƒ…ç»ªè°ƒèŠ‚ï¼š</b>é€šè¿‡å†¥æƒ³ã€æ·±å‘¼å¸ç­‰æ–¹å¼ï¼Œå­¦ä¹ åœ¨æƒ…ç»ªæ¿€åŠ¨æ—¶ä¿æŒå†·é™ï¼Œé¿å…åšå‡ºå†²åŠ¨çš„å†³å®šã€‚',
                    '<b>å¯»æ±‚ä¸“ä¸šæ”¯æŒï¼š</b>å¦‚æœä¾èµ–å€¾å‘è¾ƒä¸ºä¸¥é‡ï¼Œè€ƒè™‘å’¨è¯¢å¿ƒç†å’¨è¯¢å¸ˆï¼Œæ¢ç´¢ä¾æ‹æ¨¡å¼çš„æ·±å±‚åŸå› ã€‚'
                ] 
            };
            if (score <= 80) return { 
                level: 'ğŸ˜° ç„¦è™‘æ•æ„Ÿå‹', 
                description: 'æ‚¨åœ¨äº²å¯†å…³ç³»ä¸­è¡¨ç°å‡ºæ˜æ˜¾çš„ç„¦è™‘å’Œæ•æ„Ÿï¼Œéœ€è¦å…³æ³¨æƒ…ç»ªç®¡ç†å’Œå®‰å…¨æ„Ÿå»ºè®¾ã€‚', 
                analysis: '<p><b>æ ¸å¿ƒç‰¹å¾ï¼š</b>æ‚¨å¯¹äº²å¯†å…³ç³»æŒæœ‰å¼ºçƒˆçš„ä¸å®‰æ„Ÿï¼Œç»å¸¸æ‹…å¿ƒè¢«ä¼´ä¾£æ‹’ç»æˆ–æŠ›å¼ƒã€‚æ‚¨å¯¹ä¼´ä¾£çš„è¡Œä¸ºè¿‡åº¦æ•æ„Ÿï¼Œå®¹æ˜“è¿‡åº¦è§£è¯»å¯¹æ–¹çš„è¨€è¡Œï¼Œäº§ç”Ÿä¸å¿…è¦çš„æ€€ç–‘å’Œå«‰å¦’ã€‚æ‚¨çš„æƒ…ç»ªæ³¢åŠ¨è¾ƒå¤§ï¼Œå®¹æ˜“è¢«ä¼´ä¾£çš„æ€åº¦æ‰€å·¦å³ã€‚æ‚¨å¯èƒ½ä¼šé‡‡å–è¿‡åº¦é»äººæˆ–æ§åˆ¶çš„è¡Œä¸ºæ¥ç¼“è§£å†…å¿ƒçš„ç„¦è™‘ï¼Œè¿™å¯èƒ½ä¼šç»™ä¼´ä¾£å¸¦æ¥å‹åŠ›ã€‚</p><p><b>å¿ƒç†å­¦è§£è¯»ï¼š</b>æ‚¨çš„ä¾æ‹é£æ ¼å±äºå…¸å‹çš„ç„¦è™‘å‹ä¾æ‹ï¼Œè¿™ç§æ¨¡å¼ä¼šå¯¼è‡´æ‚¨åœ¨å…³ç³»ä¸­ä½“éªŒåˆ°è¾ƒå¤šçš„ç—›è‹¦å’Œä¸å®‰ã€‚æ‚¨çš„è‡ªæˆ‘ä»·å€¼æ„Ÿä¸ç¨³å®šï¼Œéœ€è¦é€šè¿‡ä¼´ä¾£çš„æŒç»­å…³æ³¨å’Œè‚¯å®šæ¥ç¡®è®¤è‡ªå·±çš„ä»·å€¼ã€‚</p><p><b>é£é™©æç¤ºï¼š</b>é•¿æœŸçš„ç„¦è™‘å’Œæ•æ„Ÿå¯èƒ½ä¼šå¯¼è‡´å…³ç³»å†²çªå¢åŠ ï¼Œç”šè‡³å¯èƒ½ç ´åäº²å¯†å…³ç³»ã€‚å¦‚æœä¸åŠ ä»¥è°ƒæ•´ï¼Œå¯èƒ½ä¼šå½¢æˆæ¶æ€§å¾ªç¯ï¼šæ‚¨è¶Šç„¦è™‘ï¼Œè¶Šé»äººï¼Œä¼´ä¾£è¶Šæ„Ÿåˆ°å‹åŠ›ï¼Œè¶Šæƒ³è¦ç–è¿œï¼Œè¿™åˆä¼šåŠ å‰§æ‚¨çš„ç„¦è™‘ã€‚</p>', 
                suggestions: [
                    '<b>ç´§æ€¥æƒ…ç»ªå¹²é¢„ï¼š</b>å½“æ„Ÿåˆ°å¼ºçƒˆç„¦è™‘æ—¶ï¼Œå°è¯•é‡‡ç”¨5-4-3-2-1æ¥åœ°æ³•ï¼šè¯´å‡º5ä¸ªçœ‹åˆ°çš„äº‹ç‰©ï¼Œ4ä¸ªèƒ½è§¦æ‘¸åˆ°çš„äº‹ç‰©ï¼Œ3ä¸ªèƒ½å¬åˆ°çš„å£°éŸ³ï¼Œ2ä¸ªèƒ½é—»åˆ°çš„æ°”å‘³ï¼Œ1ä¸ªèƒ½å°åˆ°çš„å‘³é“ï¼Œå¸®åŠ©è‡ªå·±å›åˆ°å½“ä¸‹ã€‚',
                    '<b>è®°å½•æƒ…ç»ªè§¦å‘ç‚¹ï¼š</b>è®°å½•ä¸‹æ¯æ¬¡ç„¦è™‘å‘ä½œçš„æƒ…å¢ƒå’Œè§¦å‘å› ç´ ï¼Œå¯»æ‰¾è§„å¾‹ï¼Œæå‰åšå¥½åº”å¯¹å‡†å¤‡ã€‚',
                    '<b>å»ºç«‹å®‰å…¨åŸºåœ°ï¼š</b>ä¸ä¼´ä¾£å…±åŒåˆ¶å®š"å®‰å…¨åè®®"ï¼Œå¦‚çº¦å®šæ¯å¤©çš„æ²Ÿé€šæ—¶é—´ï¼Œæ˜ç¡®è¡¨è¾¾å½¼æ­¤çš„éœ€æ±‚å’Œè¾¹ç•Œã€‚',
                    '<b>ä¸“ä¸šå¿ƒç†å¹²é¢„ï¼š</b>å¼ºçƒˆå»ºè®®å¯»æ±‚ä¸“ä¸šå¿ƒç†å’¨è¯¢ï¼Œé€šè¿‡è®¤çŸ¥è¡Œä¸ºç–—æ³•æˆ–ä¾æ‹å–å‘æ²»ç–—ï¼Œé‡å»ºå®‰å…¨çš„ä¾æ‹æ¨¡å¼ã€‚',
                    '<b>è‡ªæˆ‘å…³çˆ±ç»ƒä¹ ï¼š</b>æ¯å¤©è¿›è¡Œè‡ªæˆ‘å…³çˆ±æ´»åŠ¨ï¼Œå¦‚è¿åŠ¨ã€é˜…è¯»ã€æ³¡çƒ­æ°´æ¾¡ç­‰ï¼Œå¢å¼ºå†…å¿ƒçš„å®‰å…¨æ„Ÿå’Œè‡ªæˆ‘æ¥çº³ã€‚'
                ] 
            };
            return { 
                level: 'ğŸ’” æç«¯æ‹çˆ±è„‘å‹', 
                description: 'æ‚¨åœ¨äº²å¯†å…³ç³»ä¸­è¡¨ç°å‡ºæç«¯çš„æƒ…æ„Ÿä¾èµ–å’Œéç†æ€§è¡Œä¸ºï¼Œéœ€è¦ç«‹å³å…³æ³¨å’Œè°ƒæ•´ã€‚', 
                analysis: '<p><b>æ ¸å¿ƒç‰¹å¾ï¼š</b>æ‚¨çš„ç”Ÿæ´»é‡å¿ƒå®Œå…¨è¢«äº²å¯†å…³ç³»å æ®ï¼Œä¸ªäººè¾¹ç•Œå‡ ä¹å®Œå…¨æ¶ˆå¤±ã€‚æ‚¨å°†å…¨éƒ¨çš„è‡ªæˆ‘ä»·å€¼å’Œå¹¸ç¦æ„Ÿå¯„æ‰˜äºä¼´ä¾£ï¼Œå¤±å»äº†ç‹¬ç«‹çš„è‡ªæˆ‘è®¤åŒã€‚æ‚¨å¯¹ä¼´ä¾£çš„æ§åˆ¶æ¬²å¼ºçƒˆï¼Œéš¾ä»¥å®¹å¿å¯¹æ–¹çš„ä»»ä½•ç‹¬ç«‹è¡Œä¸ºã€‚æ‚¨çš„æƒ…ç»ªæåº¦ä¸ç¨³å®šï¼Œå®¹æ˜“å‡ºç°æç«¯çš„æƒ…ç»ªååº”ï¼Œå¦‚æ„¤æ€’ã€ç»æœ›æˆ–è‡ªæˆ‘ä¼¤å®³å€¾å‘ã€‚æ‚¨å¯èƒ½ä¼šé‡‡å–æç«¯æ‰‹æ®µç»´æŒå…³ç³»ï¼Œå³ä½¿è¿™æ„å‘³ç€ç‰ºç‰²è‡ªå·±çš„å°Šä¸¥å’Œåˆ©ç›Šã€‚</p><p><b>å¿ƒç†å­¦è§£è¯»ï¼š</b>æ‚¨çš„çŠ¶æ€å·²ç»è¶…å‡ºäº†æ­£å¸¸çš„æ‹çˆ±çŠ¶æ€ï¼Œå¯èƒ½ç¬¦åˆ"ç—…ç†æ€§ä¾æ‹"æˆ–"æ‹çˆ±æˆç˜¾"çš„ç‰¹å¾ã€‚è¿™ç§æ¨¡å¼é€šå¸¸ä¸æ·±å±‚çš„å¿ƒç†åˆ›ä¼¤æˆ–ä½è‡ªå°Šæœ‰å…³ï¼Œéœ€è¦ä¸“ä¸šçš„å¿ƒç†å¹²é¢„ã€‚</p><p><b>ä¸¥é‡è­¦ç¤ºï¼š</b>è¿™ç§æç«¯çš„æ‹çˆ±æ¨¡å¼ä¸ä»…ä¼šç»™ä¼´ä¾£å¸¦æ¥å·¨å¤§çš„å‹åŠ›å’Œç—›è‹¦ï¼Œä¹Ÿä¼šå¯¹æ‚¨çš„èº«å¿ƒå¥åº·é€ æˆä¸¥é‡ä¼¤å®³ã€‚é•¿æœŸå¤„äºè¿™ç§çŠ¶æ€å¯èƒ½å¯¼è‡´æŠ‘éƒã€ç„¦è™‘ç­‰å¿ƒç†é—®é¢˜ï¼Œç”šè‡³å¯èƒ½å¼•å‘è‡ªæˆ‘ä¼¤å®³è¡Œä¸ºã€‚</p>', 
                suggestions: [
                    '<b>ç«‹å³å¯»æ±‚ä¸“ä¸šå¸®åŠ©ï¼š</b>å°½å¿«è”ç³»å¿ƒç†å’¨è¯¢å¸ˆæˆ–å¿ƒç†åŒ»ç”Ÿï¼Œè¿›è¡Œå…¨é¢çš„å¿ƒç†è¯„ä¼°å’Œæ²»ç–—ã€‚å¦‚æœå‡ºç°è‡ªä¼¤æˆ–ä¼¤äººå€¾å‘ï¼Œç«‹å³å‰å¾€åŒ»é™¢ç²¾ç¥ç§‘å°±è¯Šã€‚',
                    '<b>å»ºç«‹å®‰å…¨æ”¯æŒç½‘ç»œï¼š</b>å‘ä¿¡ä»»çš„å®¶äººæˆ–æœ‹å‹å¯»æ±‚æ”¯æŒï¼Œå‘ŠçŸ¥ä»–ä»¬æ‚¨çš„çŠ¶å†µï¼Œé¿å…ç‹¬å¤„æ—¶åšå‡ºå†²åŠ¨è¡Œä¸ºã€‚',
                    '<b>æš‚æ—¶ç‰©ç†éš”ç¦»ï¼š</b>åœ¨ä¸“ä¸šäººå£«çš„æŒ‡å¯¼ä¸‹ï¼Œè€ƒè™‘ä¸ä¼´ä¾£è¿›è¡Œæš‚æ—¶çš„ç‰©ç†éš”ç¦»ï¼Œç»™è‡ªå·±ç•™å‡ºç©ºé—´å’Œæ—¶é—´è¿›è¡Œè‡ªæˆ‘ä¿®å¤ã€‚',
                    '<b>é‡å»ºç”Ÿæ´»ç»“æ„ï¼š</b>ä»æœ€åŸºæœ¬çš„ç”Ÿæ´»ä¹ æƒ¯å¼€å§‹ï¼Œé‡å»ºè§„å¾‹çš„ç”Ÿæ´»ï¼Œå¦‚å›ºå®šçš„ä½œæ¯æ—¶é—´ã€é¥®é£Ÿå’Œè¿åŠ¨ã€‚',
                    '<b>è‡ªæˆ‘è®¤åŒé‡å»ºï¼š</b>åœ¨æ²»ç–—å¸ˆçš„å¸®åŠ©ä¸‹ï¼Œé‡æ–°æ¢ç´¢"æˆ‘æ˜¯è°"ã€"æˆ‘çš„ä»·å€¼åœ¨å“ªé‡Œ"ç­‰æ ¸å¿ƒé—®é¢˜ï¼Œé‡å»ºç‹¬ç«‹çš„è‡ªæˆ‘è®¤åŒã€‚',
                    '<b>å­¦ä¹ æƒ…ç»ªç®¡ç†ï¼š</b>é€šè¿‡ä¸“ä¸šæŒ‡å¯¼ï¼Œå­¦ä¹ æœ‰æ•ˆçš„æƒ…ç»ªè°ƒèŠ‚æŠ€å·§ï¼Œå¦‚æ­£å¿µå†¥æƒ³ã€æƒ…ç»ªæ—¥è®°ç­‰ï¼Œå¢å¼ºæƒ…ç»ªçš„ç¨³å®šæ€§ã€‚'
                ] 
            };
        }

        function renderRadarChart() {
            const ctx = document.getElementById('radarChart').getContext('2d');
            if (window.myRadar) window.myRadar.destroy();
            window.myRadar = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['å®‰å…¨ä¾æ‹', 'æƒ…ç»ªç¨³å®š', 'è‡ªæˆ‘è¾¹ç•Œ', 'ä¿¡ä»»èƒ½åŠ›', 'ç‹¬ç«‹å€¾å‘', 'æƒ…æ„ŸæŠ•å…¥'],
                    datasets: [{
                        label: 'æ‹çˆ±äººæ ¼ç»´åº¦',
                        data: [
                            calculateAttachmentScore(),
                            calculateEmotionScore(),
                            calculateBoundaryScore(),
                            calculateTrustScore(),
                            calculateIndependenceScore(),
                            calculateEmotionInvestmentScore()
                        ],
                        backgroundColor: 'rgba(139, 92, 246, 0.2)', // ä¸»é¢˜è‰²èƒŒæ™¯
                        borderColor: '#8B5CF6', // ä¸»é¢˜è‰²è¾¹æ¡†
                        borderWidth: 3, // åŠ ç²—è¾¹æ¡†
                        pointBackgroundColor: '#8B5CF6', // ä¸»é¢˜è‰²ç‚¹
                        pointBorderColor: '#fff', // ç™½è‰²ç‚¹è¾¹æ¡†
                        pointBorderWidth: 1, // å‡å°ç‚¹è¾¹æ¡†å®½åº¦
                        pointRadius: 3, // å‡å°ç‚¹å¤§å°
                        pointHoverRadius: 5 // å‡å°æ‚¬åœæ—¶ç‚¹å¤§å°
                    }]
                },
                options: {
                    scales: { 
                        r: { 
                            beginAtZero: true, 
                            max: 100, 
                            ticks: { display: false },
                            grid: { color: '#e2e8f0' }, // ç½‘æ ¼çº¿é¢œè‰²
                            angleLines: { color: '#e2e8f0' }, // è§’åº¦çº¿é¢œè‰²
                            pointLabels: { 
                                color: '#5A3E65', // æ ‡ç­¾é¢œè‰²
                                font: { 
                                    size: 14, // æ ‡ç­¾å­—ä½“å¤§å°
                                    weight: '600' // æ ‡ç­¾å­—é‡
                                }
                            }
                        } 
                    },
                    plugins: { 
                        legend: { display: false },
                        tooltip: {
                            backgroundColor: 'rgba(26, 26, 26, 0.9)', // æç¤ºæ¡†èƒŒæ™¯
                            titleColor: '#fff', // æç¤ºæ¡†æ ‡é¢˜é¢œè‰²
                            bodyColor: '#fff', // æç¤ºæ¡†å†…å®¹é¢œè‰²
                            borderColor: '#8B5CF6', // æç¤ºæ¡†è¾¹æ¡†é¢œè‰²
                            borderWidth: 1, // æç¤ºæ¡†è¾¹æ¡†å®½åº¦
                            padding: 12, // æç¤ºæ¡†å†…è¾¹è·
                            borderRadius: 8, // æç¤ºæ¡†åœ†è§’
                            callbacks: {
                                label: function(context) {
                                    const labels = ['å®‰å…¨ä¾æ‹', 'æƒ…ç»ªç¨³å®š', 'è‡ªæˆ‘è¾¹ç•Œ', 'ä¿¡ä»»èƒ½åŠ›', 'ç‹¬ç«‹å€¾å‘', 'æƒ…æ„ŸæŠ•å…¥'];
                                    const value = context.raw;
                                    let interpretation = '';
                                    if (value >= 80) interpretation = 'éå¸¸å¼º';
                                    else if (value >= 60) interpretation = 'è¾ƒå¼º';
                                    else if (value >= 40) interpretation = 'ä¸­ç­‰';
                                    else if (value >= 20) interpretation = 'è¾ƒå¼±';
                                    else interpretation = 'éå¸¸å¼±';
                                    return `${labels[context.dataIndex]}: ${value}åˆ† (${interpretation})`;
                                }
                            }
                        }
                    }
                }
            });
        }

        // è®¡ç®—å®‰å…¨ä¾æ‹å¾—åˆ† (åå‘è®¡åˆ†ï¼šå¾—åˆ†è¶Šé«˜è¶Šä¸å®‰å…¨)
        function calculateAttachmentScore() {
            const safeIds = [3,5,7,12,15,18,21,23,33,37]; // ä¸å®‰å…¨ä¾æ‹ç›¸å…³é¢˜ç›®
            let score = 0;
            safeIds.forEach(id => score += (userAnswers[id] || 0));
            const rawScore = Math.round((score / (safeIds.length * 4)) * 100);
            return 100 - rawScore; // è½¬æ¢ä¸ºå®‰å…¨ä¾æ‹å¾—åˆ†
        }

        // è®¡ç®—æƒ…ç»ªç¨³å®šå¾—åˆ† (åå‘è®¡åˆ†ï¼šå¾—åˆ†è¶Šé«˜è¶Šä¸ç¨³å®š)
        function calculateEmotionScore() {
            const stableIds = [4,17,29,32,35,39]; // æƒ…ç»ªä¸ç¨³å®šç›¸å…³é¢˜ç›®
            let score = 0;
            stableIds.forEach(id => score += (userAnswers[id] || 0));
            const rawScore = Math.round((score / (stableIds.length * 4)) * 100);
            return 100 - rawScore; // è½¬æ¢ä¸ºæƒ…ç»ªç¨³å®šå¾—åˆ†
        }

        // è®¡ç®—è‡ªæˆ‘è¾¹ç•Œå¾—åˆ† (æ­£å‘è®¡åˆ†ï¼šå¾—åˆ†è¶Šé«˜è¾¹ç•Œè¶Šæ¸…æ™°)
        function calculateBoundaryScore() {
            const boundaryIds = [1,2,6,8,13,22,25,26,30,36,40]; // è¾¹ç•Œæ¸…æ™°ç›¸å…³é¢˜ç›®
            let score = 0;
            boundaryIds.forEach(id => score += (userAnswers[id] || 0));
            return Math.round((score / (boundaryIds.length * 4)) * 100);
        }

        // è®¡ç®—ä¿¡ä»»èƒ½åŠ›å¾—åˆ† (æ­£å‘è®¡åˆ†ï¼šå¾—åˆ†è¶Šé«˜ä¿¡ä»»èƒ½åŠ›è¶Šå¼º)
        function calculateTrustScore() {
            const trustIds = [14,16,19,20,24,27,31,38]; // ä¿¡ä»»èƒ½åŠ›ç›¸å…³é¢˜ç›®
            let score = 0;
            trustIds.forEach(id => score += (userAnswers[id] || 0));
            return Math.round((score / (trustIds.length * 4)) * 100);
        }

        // è®¡ç®—ç‹¬ç«‹å€¾å‘å¾—åˆ† (æ­£å‘è®¡åˆ†ï¼šå¾—åˆ†è¶Šé«˜ç‹¬ç«‹æ€§è¶Šå¼º)
        function calculateIndependenceScore() {
            const independenceIds = [1,2,10,13,14,16,20,22,25,30,36]; // ç‹¬ç«‹å€¾å‘ç›¸å…³é¢˜ç›®
            let score = 0;
            independenceIds.forEach(id => score += (userAnswers[id] || 0));
            return Math.round((score / (independenceIds.length * 4)) * 100);
        }

        // è®¡ç®—æƒ…æ„ŸæŠ•å…¥å¾—åˆ† (æ­£å‘è®¡åˆ†ï¼šå¾—åˆ†è¶Šé«˜æƒ…æ„ŸæŠ•å…¥è¶Šå¤š)
        function calculateEmotionInvestmentScore() {
            const investmentIds = [9,11,15,18,21,23,28,33,34,37]; // æƒ…æ„ŸæŠ•å…¥ç›¸å…³é¢˜ç›®
            let score = 0;
            investmentIds.forEach(id => score += (userAnswers[id] || 0));
            return Math.round((score / (investmentIds.length * 4)) * 100);
        }

        function viewAnswers() {
            document.getElementById('resultPage').style.display = 'none';
            document.getElementById('quizPage').style.display = 'none';
            document.getElementById('answerPage').style.display = 'block';
            renderAnswers();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function renderAnswers() {
            const container = document.getElementById('answersContainer');
            container.innerHTML = '';
            
            questions.sort((a,b) => a.id - b.id);
            questions.forEach((q, index) => {
                const answerDiv = document.createElement('div');
                answerDiv.className = 'answer-item';
                const displayId = (index + 1).toString().padStart(2, '0');
                const selectedValue = userAnswers[q.id];
                const selectedText = selectedValue !== undefined ? q.options[selectedValue] : 'æœªä½œç­”';
                
                answerDiv.innerHTML = `
                    <div class="answer-q">
                        <strong>${displayId}.</strong> ${q.text}
                    </div>
                    <div class="answer-a">
                        <span class="answer-v">æ‚¨çš„é€‰æ‹©ï¼š</span>
                        <span style="color: ${selectedValue !== undefined ? '#8B5CF6' : '#9CA3AF'}">${selectedText}</span>
                    </div>
                `;
                
                container.appendChild(answerDiv);
            });
        }

        function restartQuiz() {
            userAnswers = {};
            totalScore = 0;
            document.getElementById('resultPage').style.display = 'none';
            document.getElementById('answerPage').style.display = 'none';
            document.getElementById('quizPage').style.display = 'block';
            updateProgress();
            initQuiz();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function showUnansweredTip(id) {
            const existing = document.getElementById('unTip');
            if(existing) existing.remove();
            const tip = document.createElement('div');
            tip.id = 'unTip';
            tip.style.cssText = `position:fixed; top:40px; left:50%; transform:translateX(-50%); background:#FDF2F8; backdrop-filter:blur(10px); padding:12px 24px; border-radius:50px; box-shadow:0 10px 30px rgba(236, 72, 153, 0.2); border:1px solid #FBCFE8; z-index:10000; font-size:14px; color:#EC4899; font-weight:500; animation:tipFadeIn 0.4s ease;`;
            tip.innerHTML = `âš ï¸ è¯·å…ˆå®Œæˆç¬¬ <b style="color:#8B5CF6">${id}</b> é¢˜`;
            document.body.appendChild(tip);
            setTimeout(() => tip.remove(), 3000);
        }

        // åˆå§‹åŒ–æµ‹éªŒ
        initQuiz();
        
        // å¤„ç†åŠ è½½ç‚¹åŠ¨ç”»
        setInterval(() => {
            const dots = document.getElementById('loadingDots');
            if (dots) {
                dots.textContent = dots.textContent.length < 3 ? dots.textContent + '.' : '';
            }
        }, 500);
    </script>
    <footer style="text-align: center; padding: 20px; color: #5A3E65; font-size: 1rem; font-weight: 500; margin-top: 20px;">
        <p>Inner Peace | ä¸“ä¸šÂ·ç§‘å­¦Â·å®¢è§‚</p>
    </footer>
</body>
</html>